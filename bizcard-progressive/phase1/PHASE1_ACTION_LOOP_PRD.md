# BizCard Reminder Loop PRD
# 提醒闭环 - 产品需求文档

> **版本**：v2.7  
> **目标**：以轻量日历模式打通"录音-会议-提醒-人"的闭环  
> **设计理念**：轻量化的日历提醒模式，降低用户焦虑感

---

## 1. 背景与目标

### 1.1 核心问题

当前 BizCard 应用需要解决的关键问题：**让用户进入 App 后知道应该做什么**。

需要解决的问题：
1. Meeting 记录与后续行动没有关联
2. Contact 详情的 Activity 只有标题，缺乏上下文
3. 录音产生的价值停留在"记录"，没有转化为"提醒"

### 1.2 产品目标

> **核心理念**：From "Recording" to "Reminding"（从记录到提醒）

**目标**：
- ✅ 用户进入首页即可看到今日和近期的提醒事项
- ✅ 会议记录能自动/手动产生 Reminders
- ✅ 提供完整的 Calendar 页面管理日程
- ✅ Contact 页面能展示与该联系人相关的完整上下文
- ✅ 形成"录音 → 会议 → Reminders → 完成"的闭环

### 1.3 首页设计理念

**首页内容排序逻辑**：
1. **Profile Card**：快速分享和预览入口（稍加重展示权重）
2. **Today's Meeting**：**核心内容**，对应用户"硬件录音 → 回App查看"的主要动作
3. **Reminders Hub**：轻量日历提醒，按时间分组

**设计要点**：
- 首页中心是 **Meeting** 和 **Reminder**
- Meeting 在 Reminders Hub 之前，因为遵循用户"硬件录音→回App查看"的主要动作流程
- Reminders Hub 采用轻量日历模式，按 Today / Next 7 Days 分组
- 支持 Snooze（延后）操作

---

## 2. 功能需求清单

| ID | 功能 | 优先级 | 描述 |
|----|------|--------|------|
| F1 | 首页 Reminders Hub | P0 | 轻量日历组件，按Today/Next 7 Days分组 |
| F1.5 | Calendar 页面 | P0 | Lark风格日历（日视图+月视图），支持滑动导航/Snooze/Delete |
| F2 | Meeting 详情 Reminders | P0 | 会议详情页增加 Reminder 提取和管理 |
| F3 | Contact Activity 上下文增强 | P0 | Activity 卡片与首页 Meeting 卡片样式一致 |
| F4 | 首页 Profile Card | P1 | Profile + 硬件状态 + Preview/Share 入口 |
| F5 | 会议卡片 Reminder 预览 | P1 | 首页会议列表显示 Reminders 数量 |

### 2.1 全局导航（Tab Bar）

**底部 Tab Bar 结构**：

```
┌────────────────────────────────────────────────────────┐
│   🏠        📅        👥        🔔        👤          │
│  Home    Calendar  Contacts  Notif.      Me           │
└────────────────────────────────────────────────────────┘
```

| Tab | 图标 | 目标页面 | Tab Bar 显示 | Sticky Bar 显示 |
|-----|------|----------|--------------|-----------------|
| Home | 🏠 | 首页 | ✅ | ✅ |
| Calendar | 📅 | 日历页（Reminders 管理） | ✅ | ❌ |
| Contacts | 👥 | 联系人列表 | ✅ | ✅ |
| Notifications | 🔔 | 通知页（暂未实现） | ✅ | - |
| Me | 👤 | 个人中心 | ✅ | ❌ |

**详情页导航规则**：
- Meeting 详情页、Contact 详情页等**二级页面**不显示 Tab Bar
- 二级页面使用 Header 中的返回按钮导航

---

## 3. F1: 首页 Reminders Hub

### 3.1 功能概述

在首页增加一个"轻量日历提醒"模块，以时间维度展示待办事项，降低焦虑感。

### 3.2 位置与布局

**位置**：在 Today's Meeting 之后（与demo实现一致）

```
┌────────────────────────────────────────┐
│  [Profile Card + 硬件状态]             │
│  ┌──────────────────────────────────┐  │
│  │ [硬件状态] 📶 85%                 │  │
│  │ [头像] Ethan Carter               │  │
│  │        Product Designer           │  │
│  │        @ Bitflux Insurance        │  │
│  │ [👁 Preview]  [📤 Share]          │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  [Banner 运营位]                       │
├────────────────────────────────────────┤
│  Today's Meeting            View All › │
│  ┌──────────────────────────────────┐  │
│  │ 💬 Product Design Sync    11:30  │  │
│  │    with Kevin Chen, +1           │  │
│  │    🔴 2 reminders                │  │
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 🎙  Sales Review Call     10:00  │  │
│  │    with Bob Smith                │  │
│  │    🔴 1 reminder                 │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  ┌──────────────────────────────────┐  │
│  │  📅 Reminders (4)     Calendar › │  │  ← Reminders Hub
│  │  ─────────────────────────────────│  │
│  │  📅 Today                       1 │  │
│  │  [Reminder Card]                  │  │
│  │  ─────────────────────────────────│  │
│  │  📆 Next 7 Days                 3 │  │
│  │  [Reminder Cards...]              │  │
│  │  +2 more                          │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  ┌──────────────────────────────────┐  │
│  │ [Scan to Add]  [🎙 Start Capture]│  │  ← Sticky Bar
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│            [Tab Bar]                   │
└────────────────────────────────────────┘
```

**要点**：
- Profile Card 含硬件连接状态
- Today's Meeting 在 Reminders Hub **之前**
- Reminders Hub 在页面下方
- Sticky Bar 粘滞在底部（Tab Bar 之上）

### 3.3 Sticky Bar

首页底部粘滞的操作栏，提供快速添加联系人和开始录音的入口。

```
┌────────────────────────────────────────┐
│  [🔄 Scan to Add]   [🎙 Start Capture] │
└────────────────────────────────────────┘
```

| 按钮 | 功能 | 说明 |
|------|------|------|
| **Scan to Add** | 扫描添加联系人 | 打开扫描器，扫描名片或二维码 |
| **Start Capture** | 开始录音 | 开始录制会议/会面 |

#### Start Capture 未连接硬件时的交互

当用户点击 Start Capture 但硬件未连接时：

```
┌────────────────────────────────────────┐
│  ┌──────────────────────────────────┐  │
│  │                                  │  │
│  │     🎙                           │  │
│  │     Hardware Not Connected       │  │
│  │                                  │  │
│  │  Your BizCard device is not      │  │
│  │  connected. Please connect it    │  │
│  │  to start capturing.             │  │
│  │                                  │  │
│  │  [Connect Device]   [Cancel]     │  │
│  │                                  │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

**交互流程**：
1. 用户点击 Start Capture
2. 检测硬件连接状态
3. 如未连接，弹出提示弹窗
4. 用户点击 "Connect Device" → 跳转到硬件连接页面
5. 用户点击 "Cancel" → 关闭弹窗

### 3.4 Reminders Hub 视觉规范

#### 3.3.1 分组展示

**Today 分组**：
```
┌────────────────────────────────────────────────────────┐
│  📅 Today                                          2   │
├────────────────────────────────────────────────────────┤
│  ┌─────┬───────────────────────────────────────────┐   │
│  │ JAN │ □ Follow up with Kevin on RWA            │   │
│  │ 15  │   👤 Kevin · 📝 Product Design Sync      │   │
│  └─────┴───────────────────────────────────────────┘   │
│  ┌─────┬───────────────────────────────────────────┐   │
│  │ JAN │ □ Send updated proposal to team          │   │
│  │ 15  │   👤 Alice, Bob, +1 · 📝 Sales Review    │   │
│  └─────┴───────────────────────────────────────────┘   │
└────────────────────────────────────────────────────────┘
```

**Next 7 Days 分组**：
```
┌────────────────────────────────────────────────────────┐
│  📆 Next 7 Days                                    3   │
├────────────────────────────────────────────────────────┤
│  [Reminder Cards...]                                   │
│  +2 more                              → 跳转Calendar   │
└────────────────────────────────────────────────────────┘
```

#### 3.3.2 Reminder Card 设计

统一的卡片设计，包含：
- **日期列**：带颜色的日期显示（基于星期的颜色编码）
- **勾选框**：完成状态
- **内容区**：
  - 标题（主文字）
  - 联系人（可点击）
  - 来源会议（可点击）

```
┌─────────┬──────────────────────────────────────────┐
│   JAN   │ □  Follow up with Kevin on RWA          │
│   15    │    👤 Kevin · 📝 Product Design Sync    │
│   Wed   │                                          │
└─────────┴──────────────────────────────────────────┘
```

**日期列颜色编码**（基于星期）：
- Sun: 粉色 (#EC4899)
- Mon: 紫色 (#6366F1)
- Tue: 橙色 (#F59E0B)
- Wed: 绿色 (#22C55E)
- Thu: 蓝色 (#0EA5E9)
- Fri: 浅紫 (#A855F7)
- Sat: 红色 (#EF4444)

#### 3.3.3 空状态

```
┌────────────────────────────────────────────────────────┐
│  📅 Today                                              │
│  ✨ No reminders for today                             │
└────────────────────────────────────────────────────────┘
```

### 3.5 Reminders Hub 交互规范

| 操作 | 行为 | 动效 |
|------|------|------|
| 点击 "Calendar ›" | 跳转到 Calendar 页面 | 页面推入 |
| 点击 Reminder Card | 跳转到 Calendar 页面 | 页面推入 |
| 点击 Reminder 勾选框 | 标记完成 | 勾选动效 → 划线 |
| 点击联系人名字 | 显示联系人 Popover | 弹出层 |
| 点击来源会议 | 跳转到 Meeting 详情页 | 页面推入 |
| 点击 "+X more" | 跳转到 Calendar 页面 | 页面推入 |

### 3.6 完成 Reminder 的反馈

当用户勾选完成一个 Reminder：
1. 勾选框显示打勾动画
2. 标题添加删除线效果
3. 底部显示 Toast："Marked as done ✓"
4. Today 数字减 1

---

## 3.5 F1.5: Calendar 页面（Lark 风格设计）

### 3.5.1 功能概述

新增 Calendar 页面作为 Reminders 的详细管理入口，采用 **Lark（飞书）风格**的交互设计。

**设计原则**：
- Reminder 没有精确时间段，是"当日待办"性质，因此不使用时间轴设计
- 采用 Lark 日历的交互模式，提供直观的日期导航和视图切换
- 支持触摸滑动和鼠标拖拽操作

### 3.5.2 页面布局

```
┌────────────────────────────────────────────────────────┐
│  ‹      1月 ▼           [+]       [日] | [月]         │  ← Header
├────────────────────────────────────────────────────────┤
│                                                        │
│              [视图内容区域]                             │
│                                                        │
└────────────────────────────────────────────────────────┘
```

**Header 组件**：

| 组件 | 位置 | 功能 |
|------|------|------|
| `‹` 按钮 | 左侧 | 返回上一页 |
| `1月 ▼` | 左侧 | 点击打开 Date Picker 下拉 |
| `[+]` 按钮 | 中间偏右 | 添加新 Reminder |
| `[日] \| [月]` | 右侧 | 视图切换按钮（当前选中高亮） |

### 3.5.3 视图模式

| 视图 | 显示内容 | Done 展示 | 切换方式 |
|------|----------|-----------|----------|
| **日视图（Day）** | 横向周日期条 + 选中日期的 Reminders | 当日 Done 折叠在底部 | 点击 [日] 按钮 |
| **月视图（Month）** | 完整月历网格 + 点击展开某日详情 | 展开后显示当日 Done | 点击 [月] 按钮 |

### 3.5.3.1 日视图（Day）— 默认视图

**交互逻辑**（参考 Lark）：

```
┌────────────────────────────────────────────────────────┐
│  ‹      1月 ▼           [+]        [日] | 月          │  ← [日] 高亮
├────────────────────────────────────────────────────────┤
│                                                        │
│   日    一    二    三    四    五    六               │  ← 星期标题
│  [19]  [20]  [21] [[22]] [23]  [24]  [25]             │  ← 当前周日期
│    ●          ●    ●●           ●                     │  ← Reminder 数量指示
│                                                        │
├────────────────────────────────────────────────────────┤
│  Wednesday, Jan 22                           2 pending │
├────────────────────────────────────────────────────────┤
│  [Reminder Card 1]                                     │
│  [Reminder Card 2]                                     │
├────────────────────────────────────────────────────────┤
│  ── ✅ Done (1) ──────────────────────── [展开 ▼]     │
└────────────────────────────────────────────────────────┘

图例：
[[22]] = 今天（蓝色圆形背景）
[19]   = 可点击的日期
●      = 有 Reminder（圆点数量表示数量，最多2个）
灰色数字 = 非当月日期
```

**日视图操作**：

| 操作 | 行为 |
|------|------|
| 点击某日期 | 选中该日期，下方显示该日的 Reminders |
| 左右滑动周日期条 | 切换到上一周/下一周（触摸设备） |
| 鼠标左右拖拽 | 切换到上一周/下一周（PC 端） |
| 点击 `1月 ▼` | 打开 Date Picker，选择具体日期 |

**Date Picker（日视图模式）**：

点击 `1月 ▼` 后，下拉显示当月日历：

```
┌────────────────────────────────────────┐
│  ‹      2026年1月      ›               │  ← 可切换月份
├────────────────────────────────────────┤
│  日   一   二   三   四   五   六       │
├────────────────────────────────────────┤
│  28  29  30  31   1   2   3           │  ← 上月末日期灰色
│   4   5   6   7   8   9  10           │
│  11  12  13  14  15  16  17           │
│  18  19  20  21 (22) 23  24           │  ← 22 是今天（蓝色圆圈）
│  25  26  27  28  29  30  31           │
└────────────────────────────────────────┘
```

- 点击 `‹` / `›` 可**切换月份浏览**，不影响当前选中的日期
- 点击具体日期后，关闭 Picker，周日期条切换到该日期所在的周

### 3.5.3.2 月视图（Month）

**完整月历模式**：

```
┌────────────────────────────────────────────────────────┐
│  ‹      1月 ▼           [+]         日 | [月]         │  ← [月] 高亮
├────────────────────────────────────────────────────────┤
│          ‹      2026年1月      ›                      │  ← 月份导航
├────────────────────────────────────────────────────────┤
│    日      一      二      三      四      五      六  │
├────────────────────────────────────────────────────────┤
│   28      29      30      31       1       2       3  │  ← 第1周
│                                                        │
│    4       5       6       7       8       9      10  │  ← 第2周
│                                                        │
│   11      12      13      14      15      16      17  │  ← 第3周
│         Reply.. Contac.. Send u..       Follow..      │  ← Reminder 标题预览
│   18      19      20      21     (22)     23      24  │  ← 第4周（22是今天）
│  Schedu..                                              │
│   25      26      27      28      29      30      31  │  ← 第5周
└────────────────────────────────────────────────────────┘
```

**月历网格规则**：
- 固定显示 **5 周（35 格）**，确保布局一致
- 上月/下月溢出日期显示为**灰色**
- 今天日期有**蓝色圆圈背景**
- 有 Reminder 的日期下方显示**截断的标题预览**

**月份导航**：

| 操作 | 行为 |
|------|------|
| 点击 `‹` / `›` 箭头 | 切换上/下月 |
| 左右滑动整个月历区域 | 切换上/下月（触摸设备） |
| 鼠标左右拖拽 | 切换上/下月（PC 端，拖拽距离 > 50px 触发） |

**Date Picker（月视图模式）**：

点击 `1月 ▼` 后，下拉显示年/月选择器：

```
┌────────────────────────────────────────┐
│  2026                                  │
├────────────────────────────────────────┤
│   1月    2月    3月    4月            │
│   5月    6月    7月    8月            │
│   9月   10月   11月   12月            │
└────────────────────────────────────────┘
```

### 3.5.3.3 月视图 — 展开某日详情

**交互逻辑**（参考 Lark 日历）：

点击月历中的某个日期后，月历"展开"显示该日的 Reminders：

```
展开前 → 点击 15 日 → 展开后

┌────────────────────────────────────────────────────────┐
│  ‹      1月 ▼           [+]  [✕]     日 | [月]        │  ← 新增关闭按钮
├────────────────────────────────────────────────────────┤
│    日      一      二      三      四      五      六  │
│   11      12      13      14     [15]     16      17  │  ← 选中日期所在行（固定顶部）
├────────────────────────────────────────────────────────┤
│                                                        │
│   Wednesday, Jan 15                         3 pending  │  ← 日期标题
│                                                        │
│   [Reminder Card 1]                        ← 可滚动    │
│   [Reminder Card 2]                                    │
│   [Reminder Card 3]                                    │
│                                                        │
│   ── ✅ Done (1) ──────────────────── [展开 ▼]        │
│                                                        │
├────────────────────────────────────────────────────────┤
│   18      19      20      21      22      23      24  │  ← 下一周（固定底部）
└────────────────────────────────────────────────────────┘
```

**展开状态布局**：

| 区域 | 位置 | 行为 |
|------|------|------|
| **顶部日期行** | 固定在顶部 | 显示选中日期所在的周 |
| **内容区域** | 中间可滚动 | 使用统一的 Reminder 卡片样式，内容过多时可滚动 |
| **底部日期行** | 固定在底部 | 显示下一周日期（如选中的是最后一周则不显示） |

**关闭展开**：
- 点击 Header 中的 `[✕]` 按钮
- 点击顶部或底部日期行中的其他日期（切换到该日期的展开视图）

### 3.5.4 Done 展示规则

| 视图 | Done 展示方式 | 默认状态 |
|------|--------------|----------|
| **日视图（Day）** | 显示在当日列表底部 | **折叠** |
| **月视图展开** | 显示在展开内容底部 | **折叠** |

**设计理念**：用户主要关心**未完成**的待办，Done 始终**默认折叠**，减少干扰。

**Done 区域样式**：
- 标题文字显示为**灰色**（区别于未完成项）
- 点击可展开/折叠
- 展开后的 Reminder 卡片内容也显示为灰色

### 3.5.5 左滑操作

Calendar页面的Reminder卡片支持左滑操作：

```
←←← 左滑后显示 →→→
┌──────────────────────────┬─────────┬─────────┐
│  [Reminder Card Content] │⏰Snooze │🗑Delete │
└──────────────────────────┴─────────┴─────────┘
```

| 操作 | 行为 |
|------|------|
| **Snooze** | 延后提醒，弹出日期选择 |
| **Delete** | 删除Reminder |

### 3.5.6 日期修改入口统一

**所有位置的 Reminder 卡片都可以点击日期区域修改日期**：

| 位置 | 修改方式 |
|------|----------|
| **首页 Reminders Hub** | 点击日期色块 → 打开日期选择器 |
| **Calendar 页面** | 点击日期色块 → 打开日期选择器 |
| **Meeting Details → My Calendar** | 点击日期色块 → 打开日期选择器 |

**日期选择器 UI**：

```
┌────────────────────────────────────────┐
│  Select Date                        ✕  │
├────────────────────────────────────────┤
│  [Today]   [Tomorrow]   [In 1 week]   │  ← 快捷选项
├────────────────────────────────────────┤
│    ‹      January 2026      ›         │
├────────────────────────────────────────┤
│  Su  Mo  Tu  We  Th  Fr  Sa           │
│                    1   2   3   4      │
│   5   6   7   8   9  10  11          │
│  12  13  14 (15) 16  17  18          │
│  19  20  21  22  23  24  25          │
│  26  27  28  29  30  31              │
└────────────────────────────────────────┘
```

### 3.5.8 Snooze功能

**Snooze 本质**：调整 Reminder 的提醒日期（快捷延后入口）。

点击Snooze后弹出选项：
- Tomorrow（明天）
- In 2 days（2天后）
- Next week（下周）
- Pick a date...（自选日期）

**选择后**：
1. Reminder 的提醒日期更新
2. 显示 Toast："Snoozed to Jan 17"
3. 卡片移动到新的日期分组
4. 如果已同步系统日历，同步更新系统日历事件
5. 如果开启推送，重新设置推送时间

### 3.5.9 Reminder 提醒机制

**提醒方式**：

| 方式 | 说明 | 用户控制 |
|------|------|----------|
| **App 内展示** | 首页 Reminders Hub 显示 Today 和 Next 7 Days 的 Reminder | 始终开启 |
| **本地推送通知** | 到期当天早上发送系统通知 | 可在设置中开启/关闭 |
| **系统日历事件** | 同步到手机日历，享受系统日历的提醒机制 | 创建时可选 |

**推送通知逻辑**（如果用户开启）：

| 时机 | 行为 |
|------|------|
| Reminder 到期当天 | 发送本地推送："📅 Today: {Reminder标题}" |
| 用户点击推送 | 打开 App，跳转到 Calendar 页面 |
| 用户 Snooze | 取消旧推送，按新日期设置新推送 |
| 用户完成 Reminder | 取消该推送 |

**推送时间**：默认到期当天早上 9:00（可在设置中调整）

---

## 4. F2: Meeting 详情页 — 新增 Reminders 功能

> **说明**：Meeting 详情页整体布局可能会调整，本章节仅描述**新增的 Reminders 相关功能**。

### 4.1 AI Suggested Reminders

当 Meeting 处理完成后，AI 自动从 Transcript 中提取待办事项。

**提取规则**：
- 识别含有动作意图的句子（如"我会..."、"下周要..."、"需要跟进..."）
- 识别明确的任务分配（如"Kevin 负责..."）
- 识别约定的事项（如"周五前完成..."）

**展示和交互规范**：

```
┌────────────────────────────────────────┐
│  ✨ AI Suggested                       │
│  ─────────────────────────────────────  │
│  ┌──────────────────────────────────┐  │
│  │ Follow up with Kevin on RWA      │  │
│  │          [✗ Dismiss] [✓ Accept]  │  │
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ Send updated proposal by Friday  │  │
│  │          [✗ Dismiss] [✓ Accept]  │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

**关键交互规则**：

| 规则 | 说明 |
|------|------|
| **AI Suggested 不可编辑** | 用户不能直接修改 AI 建议的文案 |
| **两个操作按钮** | [✓ Accept]（接受）和 [✗ Dismiss]（拒绝） |
| **Accept 后移入 My Calendar** | 点击 Accept 后，该项移到 My Calendar 区域 |
| **Dismiss 后消失** | 点击 Dismiss 后，该建议消失 |
| **My Calendar 中可编辑** | 进入 My Calendar 后，用户可以修改文案、设置日期等 |

**点击 [✓ Accept] 后的流程**：
1. 该建议项从 AI Suggested 区域消失（带动效）
2. 同时出现在下方的 My Calendar 区域
3. 显示 Toast："Added to My Calendar ✓"
4. 如果所有建议都已处理，显示 "✨ All AI suggestions processed"

**点击 [✗ Dismiss] 后的流程**：
1. 该建议项从 AI Suggested 区域消失（带淡出动效）
2. 不会添加到 My Calendar
3. 可选：显示 Toast："Dismissed"

### 4.2 My Calendar 区域

Accept 后的 Reminders 显示在此区域，**这里可以编辑**。

**重要**：Reminder 关联的联系人**不限于**当前会议的参与者。用户可能需要关联会议外的人员。

```
┌────────────────────────────────────────┐
│  📋 My Calendar                        │
│  ┌──────────────────────────────────┐  │
│  │ □ Follow up with Kevin on RWA   │  │  ← 可勾选完成
│  │   📅 Jan 17 · 👤 Kevin, Bob      │  │  ← 日期 + 联系人
│  │                                  │  │
│  │ □ Send proposal to finance team │  │  ← 点击标题可编辑
│  │   📅 Jan 18 · 👤 Sarah           │  │  ← Sarah可能不在会议中
│  └──────────────────────────────────┘  │
│  ─────────────────────────────────────  │
│  ✅ Done (2)                           │  ← 已完成的折叠显示
│  └ Send meeting notes                  │
│  └ Prepare Q4 presentation             │
└────────────────────────────────────────┘
```

**卡片信息展示**（与全局 Reminder 卡片一致）：
- **标题**：Reminder 内容
- **日期**：📅 + 日期
- **联系人**：👤 + 联系人名字（可编辑，不限于会议参与者）

**My Calendar 的编辑能力**：

| 操作 | 触发方式 | 说明 |
|------|----------|------|
| 编辑标题 | 点击标题文字 | 内联编辑模式 |
| 设置/修改日期 | 点击日期区域 | 弹出日期选择器 |
| 修改联系人 | 点击联系人区域 | 打开联系人选择器（可选会议外的人） |
| 标记完成 | 点击勾选框 | 移入 Done 区域 |

---

## 5. F3: Contact Activity 上下文增强

### 5.1 功能概述

将 Contact 详情页的 Activity Tab 中的 Meeting 卡片样式与首页保持一致，增加 Reminders 状态展示。

### 5.2 Meeting 卡片样式（与首页一致）

Activity 中的 Meeting 卡片直接复用首页的 `.meeting-card` 样式：

```
┌────────────────────────────────────────┐
│  Jan 15, 2026                          │  ← 日期分组标题
│  ┌──────────────────────────────────┐  │
│  │ 💬  Product Design Sync   11:30  │  │
│  │     with Kevin Chen, +1          │  │
│  │     🔴 2 reminders               │  │  ← Reminders 状态
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 🎙  Sales Review Call     10:00  │  │
│  │     with Bob Smith               │  │
│  │     ✅ All done                  │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  Jan 14, 2026                          │
│  ┌──────────────────────────────────┐  │
│  │ 👤 First Contact          16:01  │  │
│  │    Source: Exchange at CES       │  │
│  │    📍 Las Vegas Convention Center│  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 5.3 卡片结构

#### Meeting/Call 卡片

```
┌────────────────────────────────────────────┐
│  [图标]  {标题}                    {时间}  │
│         with {联系人}                      │
│         {Reminders状态}                    │
└────────────────────────────────────────────┘
```

**Reminders 状态展示规则**：
| 状态 | 显示 | 样式 |
|------|------|------|
| 有 pending reminders | 🔴 N reminders | 红色 |
| 所有 reminders 完成 | ✅ All done | 绿色 |
| 无 reminders | 不显示 | — |

#### First Contact 卡片

```
┌────────────────────────────────────────────┐
│  👤 First Contact                  {时间}  │
│     Source: {Exchange/Scan/NFC/Manual}     │
│     📍 {Location}                          │
└────────────────────────────────────────────┘
```

### 5.4 交互规范

| 操作 | 行为 |
|------|------|
| 点击 Meeting 卡片 | 跳转到 Meeting 详情页 |
| 点击联系人名字 | 显示联系人 Popover |

---

## 6. F4: 首页 Profile Card

### 6.1 功能概述

首页 Profile Card 展示用户名片信息和硬件连接状态，并提供快速预览和分享入口。Edit Profile 和 Agent Settings 入口放在 Me Tab。

### 6.2 当前布局（与demo一致）

```
┌────────────────────────────────────────┐
│                         ● 📶 85%       │  ← 硬件状态标签
│  ┌─────┐  Ethan Carter                 │
│  │     │  Product Designer             │
│  │ 头像 │  @ Bitflux Insurance          │
│  └─────┘                               │
│                                        │
│  [👁 Preview]          [📤 Share]      │  ← 操作按钮
└────────────────────────────────────────┘
```

### 6.3 组件说明

#### 硬件状态标签
- 位置：右上角
- 表示BizCard硬件的连接状态和电量

**状态展示**：
| 状态 | 显示 | 样式 |
|------|------|------|
| **已连接** | ● 📶 85% | 绿点 + 信号图标 + 电量百分比 |
| **未连接** | ○ 未连接 | 灰点 + "未连接"文字 |
| **连接中** | ◐ 连接中... | 动画点 + "连接中..."文字 |

**点击交互**：
- 点击硬件状态标签 → 打开硬件连接/设置页面

#### 名片信息区
- **头像**：圆形大头像，显示姓名首字母
- **姓名**：主标题
- **职位**：副标题
- **公司**：带@前缀

#### 操作按钮
| 按钮 | 样式 | 功能 |
|------|------|------|
| **Preview** | Secondary（边框样式） | 打开用户完整的个人页预览 |
| **Share** | Primary（蓝色填充） | 打开名片分享面板 |

### 6.4 Me Tab 中的编辑入口

Profile Edit 和 Agent Edit 功能入口放在 Me Tab：

```
┌────────────────────────────────────────┐
│                  Me                    │
├────────────────────────────────────────┤
│  [完整Profile信息]                     │
│  [✏️ Edit Profile]    [📤 Share]       │
├────────────────────────────────────────┤
│  MY SETTINGS                           │
│  ┌──────────────────────────────────┐  │
│  │  🤖 AI Agent Settings         >  │  │
│  ├──────────────────────────────────┤  │
│  │  📱 Hardware Settings         >  │  │
│  ├──────────────────────────────────┤  │
│  │  ⚙️ General Settings          >  │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 6.5 交互规范

| 操作 | 行为 |
|------|------|
| 点击 "👁 Preview" | 打开用户完整的个人页预览 |
| 点击 "📤 Share" | 打开名片分享面板 |
| 点击头像 | 跳转到 Me Tab |
| 点击硬件状态标签 | 打开硬件连接/设置页面 |

---

## 7. F5: 会议卡片 Reminder 预览

### 7.1 功能概述

在首页的 Today's Meeting 列表中，为每个会议卡片增加 Reminders 状态预览。

### 7.2 设计规范

```
┌────────────────────────────────────────┐
│  Today's Meeting                       │
│  ┌──────────────────────────────────┐  │
│  │ 💬 Product Design Sync           │  │
│  │    with Kevin, Alice    11:30 AM │  │
│  │    🔴 2 pending                  │  │  ← 有待办
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 🎙 Sales Review Call             │  │
│  │    with Bob            10:00 AM  │  │
│  │    ✅ All done                   │  │  ← 全部完成
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 📞 Agent Call - Inquiry          │  │
│  │    Unknown caller       9:30 AM  │  │
│  │                                  │  │  ← 无 Reminder
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 7.3 状态展示规则

| 状态 | 显示 | 样式 |
|------|------|------|
| 有 pending reminders | 🔴 N pending | 红色小点 + 红色文字 |
| 所有 reminders 完成 | ✅ All done | 绿色勾选 + 灰色文字 |
| 无 reminders | 不显示 | — |

---

## 8. F6: 录音关联优化

### 8.1 功能概述

录音结束后，智能推荐可能关联的联系人，减少用户手动选择的负担。

### 8.2 交互流程

```
录音结束
    ↓
显示"正在分析..." (1-2秒)
    ↓
弹出关联面板（Bottom Sheet）
```

### 8.3 关联面板设计

```
┌────────────────────────────────────────┐
│  ─────  (拖动条)                       │
│  Link this meeting to...               │
├────────────────────────────────────────┤
│  ✨ Suggested                          │
│  ┌──────────────────────────────────┐  │
│  │ ☑ Kevin Chen                     │  │
│  │    Mentioned in conversation     │  │
│  ├──────────────────────────────────┤  │
│  │ ☑ Alice Wang                     │  │
│  │    Mentioned in conversation     │  │
│  └──────────────────────────────────┘  │
│                                        │
│  Recent Contacts                       │
│  ┌──────────────────────────────────┐  │
│  │ ☐ Bob Smith                      │  │
│  │ ☐ Charlie Brown                  │  │
│  │ ☐ David Lee                      │  │
│  └──────────────────────────────────┘  │
│                                        │
│  [🔍 Search more contacts]             │
│                                        │
│  [Skip]                   [Confirm]    │
└────────────────────────────────────────┘
```

**设计要点**：
- AI 推荐的联系人默认勾选，带 ✨ 标记
- 显示推荐理由（如 "Mentioned in conversation"）
- 下方显示最近联系人供选择
- 可搜索更多联系人
- Skip 跳过不关联，Confirm 确认关联

---

## 9. 验收标准

### 9.1 功能验收清单

#### F1: Reminders Hub
- [ ] 首页能看到 Reminders Hub 模块
- [ ] 按 Today / Next 7 Days 分组显示
- [ ] 可以勾选完成 Reminder
- [ ] 完成后有动效和 Toast 反馈
- [ ] 点击 "Calendar ›" 跳转到 Calendar 页面
- [ ] 空状态显示正确

#### F1.5: Calendar 页面（Lark 风格）
- [ ] Calendar 页面可正常访问
- [ ] 日视图/月视图两种视图可通过 [日] | [月] 按钮切换
- [ ] **日视图**：横向周日期条可左右滑动/拖拽切换周
- [ ] **日视图**：点击日期选择该日，下方显示该日 Reminders
- [ ] **月视图**：完整5周月历网格正确显示
- [ ] **月视图**：可通过 ‹ › 按钮或滑动/拖拽切换月份
- [ ] **月视图**：点击某日期后展开显示详情（Lark 风格）
- [ ] **月视图展开**：顶部显示选中日期所在行，底部显示下一周（固定）
- [ ] **月视图展开**：中间内容区域可滚动，使用统一 Reminder 卡片样式
- [ ] **Date Picker**：日视图点击月份下拉可切换月份浏览并选择日期
- [ ] **Date Picker**：月视图点击月份下拉显示年/月选择器
- [ ] Reminder 卡片可左滑显示 Snooze/Delete
- [ ] Snooze 可选择延后日期，日期更新后卡片移动到新分组
- [ ] Done 区域默认折叠，可展开，文字显示为灰色
- [ ] Add Reminder 功能正常
- [ ] Add Reminder 根据入口位置正确预填日期/联系人
- [ ] "同步到系统日历"选项可勾选，创建后正确写入系统日历
- [ ] 推送通知在到期日正确发送（如已开启）

#### F2: Meeting 详情页
- [ ] Header 右上角有 Transcript 按钮
- [ ] **📅 Reminders** Section 正确显示（不是 Follow-ups）
- [ ] AI Suggested 区域正确显示提取的 Reminders
- [ ] AI Suggested 有 **[✓ Accept] 和 [✗ Dismiss]** 两个按钮
- [ ] AI Suggested **内容不可编辑**
- [ ] 点击 Accept 后移入 My Calendar 区域（带动效）
- [ ] 点击 Dismiss 后该建议消失
- [ ] My Calendar 中可以编辑标题、日期和联系人
- [ ] My Calendar 中联系人可以选择会议外的人
- [ ] My Calendar 中可以勾选完成
- [ ] 已完成项显示在 Done 折叠区域
- [ ] Quick Follow Up Email 在页面底部，功能正常
- [ ] 可以手动添加 Reminder

#### F3: Contact Activity
- [ ] Activity 卡片显示 2-3 行摘要
- [ ] 卡片显示 Reminders 数量和预览
- [ ] 点击卡片可跳转详情

#### F4: Profile Card
- [ ] Profile Card 展示姓名、职位、公司、头像
- [ ] 硬件状态标签正确显示（已连接/未连接/连接中）
- [ ] Preview 按钮正常打开个人页预览
- [ ] Share 按钮正常打开分享面板
- [ ] Edit Profile 和 Agent Settings 入口在 Me Tab

#### F5: 会议卡片 Reminder 预览
- [ ] 会议卡片显示 Reminder 状态
- [ ] pending/done/无 三种状态样式正确

#### F6: 录音关联
- [ ] 录音结束后弹出关联面板
- [ ] AI 推荐联系人并预勾选
- [ ] 可选择更多联系人
- [ ] Skip 和 Confirm 功能正常

### 9.2 体验验收

- [ ] 用户进入首页后能明确知道"今天要做什么"
- [ ] Calendar 页面提供完整的日程管理体验
- [ ] Reminder 完成和 Snooze 操作流畅，反馈及时
- [ ] 页面跳转流畅，符合 iOS/Android 规范

---

## 10. 里程碑计划

| 周 | 里程碑 | 产出 |
|----|--------|------|
| W1 | 设计完成 | UI 视觉稿、交互原型 |
| W2-3 | 开发：Meeting Actions + Contact Activity | 可测试版本 |
| W4 | 开发：Action Hub | 可测试版本 |
| W5 | 开发：Profile 精简 + 会议卡片 | 可测试版本 |
| W6 | 集成测试 + Bug 修复 | Phase 1 发布 |

---

## 11. 风险与对策

| 风险 | 概率 | 影响 | 对策 |
|------|------|------|------|
| AI 提取准确率不够 | 中 | 中 | 提供手动编辑和 Snooze 入口，支持用户纠错 |
| Reminders Hub 占用空间影响体验 | 低 | 中 | 轻量化设计，分组展示减少压迫感 |
| 用户不理解新功能 | 中 | 低 | 首次使用时增加引导提示 |
| Calendar 页面增加开发工作量 | 中 | 中 | Lark风格设计，日视图优先，月视图展开交互需重点测试 |

---

## 附录：Demo 原型

可交互 Demo 位于：`phase1/demo.html`

打开方式：直接在浏览器中打开 HTML 文件

---

*文档版本：v2.7*  
*创建日期：2026-01-19*  
*更新日期：2026-01-20*
