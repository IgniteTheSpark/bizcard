# Phase 1: Action Loop PRD
# 行动闭环 - 产品需求文档

> **版本**：v1.1  
> **目标**：在不重写首页架构的前提下，打通"事件-待办-人"的闭环  
> **预期周期**：4-6 周

---

## 1. 背景与目标

### 1.1 核心问题

当前 BizCard 应用存在一个关键问题：**用户进入 App 后不知道应该做什么**。

具体表现：
1. 首页以个人 Profile 为中心，而非用户的待办事项
2. Meeting 记录与后续行动没有关联
3. Contact 详情的 Activity 只有标题，缺乏上下文
4. 录音产生的价值停留在"记录"，没有转化为"行动"

### 1.2 Phase 1 目标

> **核心理念**：From "Recording" to "Acting"（从记录到行动）

在 **最小改动范围** 内实现：
- ✅ 用户进入首页即可看到待办事项
- ✅ 会议记录能自动/手动产生可执行的 Actions
- ✅ Contact 页面能展示与该联系人相关的完整上下文
- ✅ 形成"录音 → 会议 → Actions → 完成"的闭环

### 1.3 非目标（本阶段不做）

- ❌ 首页架构重构（保留当前布局结构）
- ❌ 取消底部 Tab 导航
- ❌ 实现完整的 Unified Timeline
- ❌ 个人 Profile 移至抽屉（仅精简）

---

## 2. 功能需求清单

| ID | 功能 | 优先级 | 描述 |
|----|------|--------|------|
| F1 | 首页 Action Hub | P0 | 在首页顶部展示待办事项聚合 |
| F2 | Meeting 详情 Action Items | P0 | 会议详情页增加 Action 提取和管理 |
| F3 | Contact Activity 上下文增强 | P0 | Activity 卡片增加摘要和 Actions 预览 |
| F4 | 首页 Profile 精简 | P1 | 减少 Profile 区域占用空间 |
| F5 | 会议卡片 Action 预览 | P1 | 首页会议列表显示 Actions 数量 |
| F6 | 录音关联优化 | P2 | 录音结束后智能推荐关联联系人 |

---

## 3. F1: 首页 Action Hub

### 3.1 功能概述

在首页增加一个"行动中枢"模块，让用户一眼看到所有待办事项。

### 3.2 位置与布局

**位置**：在当前"今日数据统计"和"Today's Meeting"之间插入

```
┌────────────────────────────────────────┐
│  [硬件状态栏]                          │
├────────────────────────────────────────┤
│  [个人 Profile 区域 - 精简版]          │
├────────────────────────────────────────┤
│  [Banner 运营位]                       │
├────────────────────────────────────────┤
│  [今日数据统计]                        │
├────────────────────────────────────────┤
│  ┌──────────────────────────────────┐  │
│  │  🔴 3 Pending Actions         ▼  │  │  ← NEW: Action Hub
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  [Today's Meeting]                     │
├────────────────────────────────────────┤
│  [Sticky Bar]                          │
└────────────────────────────────────────┘
```

### 3.3 视觉规范

#### 3.3.1 折叠态（默认）

```
┌────────────────────────────────────────────────────────┐
│  🔴 3 Pending Actions                              ▼   │
│      Your next step: Follow up with Kevin on RWA       │
└────────────────────────────────────────────────────────┘
```

**设计要点**：
- 左侧红点 + 数字，强调"待处理"状态
- 副标题显示最近/最重要的一条待办预览
- 右侧展开箭头
- 背景色：浅灰或白色卡片，带阴影

#### 3.3.2 展开态

```
┌────────────────────────────────────────────────────────┐
│  🔴 3 Pending Actions                              ▲   │
├────────────────────────────────────────────────────────┤
│  □  Follow up with Kevin on RWA compliance             │
│     👤 Kevin · 📝 Product Design Sync · Jan 15         │
│                                                        │
│  □  Send updated proposal to Alice                     │
│     👤 Alice · 📝 Sales Review · Jan 14                │
│                                                        │
│  □  Schedule demo for Acme Corp                        │
│     👤 Bob · 📞 Agent Call · Jan 14                    │
├────────────────────────────────────────────────────────┤
│  View all 5 actions >                                  │
└────────────────────────────────────────────────────────┘
```

**设计要点**：
- 每条 Action 显示：
  - 勾选框（圆形或方形）
  - Action 标题（主文字，16px）
  - 关联信息：联系人 + 来源事件 + 日期（副文字，14px，灰色）
- 最多显示 3 条，超过时显示 "View all X actions >"
- 行间距：12px

#### 3.3.3 空状态

```
┌────────────────────────────────────────────────────────┐
│  ✅ All Caught Up!                                     │
│     No pending actions. Great job!                     │
└────────────────────────────────────────────────────────┘
```

**设计要点**：
- 绿色勾选图标
- 鼓励性文案
- 可以隐藏或显示为最小化状态

### 3.4 交互规范

| 操作 | 行为 | 动效 |
|------|------|------|
| 点击折叠/展开箭头 | 切换展开态 | 箭头旋转 + 内容滑入/滑出 |
| 点击 Action 勾选框 | 标记完成 | 勾选动效 → 划线 → 0.5s后滑出消失 |
| 点击 Action 标题 | 跳转到来源 Meeting/Call 详情页 | 页面推入 |
| 点击联系人名字 | 跳转到 Contact 详情页 | 页面推入 |
| 点击 "View all" | 展开更多或跳转列表页 | — |
| 左滑 Action（可选） | 显示"延后"和"删除"操作 | 滑动露出操作按钮 |

### 3.5 完成 Action 的反馈

当用户勾选完成一个 Action：
1. 勾选框显示打勾动画
2. 文字添加删除线效果
3. 0.5s 后该条目滑出消失
4. 底部显示 Toast："Action completed! ✓"
5. Pending 数字减 1

---

## 4. F2: Meeting 详情 Action Items

### 4.1 功能概述

在 Meeting 详情页顶部新增 "Actions" 区域，支持 AI 自动提取和手动添加。

### 4.2 页面布局

```
┌────────────────────────────────────────┐
│  < Back       Meeting Detail      Edit │
├────────────────────────────────────────┤
│  Product Design Sync                   │
│  📅 Jan 15, 2026 · 11:30 AM · 45min    │
│  👥 Kevin, Alice                       │
├────────────────────────────────────────┤
│  📋 Actions                       🔴 2 │  ← NEW SECTION
│  ┌──────────────────────────────────┐  │
│  │ □ Follow up with Kevin on RWA   │  │
│  │ □ Send updated proposal by Fri  │  │
│  │                                  │  │
│  │ [+ Add Action]                  │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  📝 Summary                            │
│  ┌──────────────────────────────────┐  │
│  │ Discussed the product roadmap   │  │
│  │ for Q1 2026. Key focus areas:   │  │
│  │ - RWA compliance requirements   │  │
│  │ - Demo scheduling for clients   │  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  🎙 Full Transcript                 ▼  │
│  (点击展开)                            │
└────────────────────────────────────────┘
```

### 4.3 AI 提取 Actions

当 Meeting 处理完成后，AI 自动从 Transcript 中提取 Action Items。

**提取规则**：
- 识别含有动作意图的句子（如"我会..."、"下周要..."、"需要跟进..."）
- 识别明确的任务分配（如"Kevin 负责..."）
- 识别约定的事项（如"周五前完成..."）

**AI 提取结果展示**：

```
┌────────────────────────────────────────┐
│  📋 Actions                            │
│  ┌──────────────────────────────────┐  │
│  │ ✨ AI Suggested                  │  │
│  │ ─────────────────────────────────│  │
│  │ □ Follow up with Kevin on RWA   │  │
│  │   [✓ Accept]  [✗ Dismiss]       │  │
│  │                                  │  │
│  │ □ Send updated proposal by Fri  │  │
│  │   [✓ Accept]  [✗ Dismiss]       │  │
│  └──────────────────────────────────┘  │
│  [+ Add Action]                        │
└────────────────────────────────────────┘
```

**用户操作**：
- **Accept**：确认为正式 Action，同步到 Action Hub，按钮消失
- **Dismiss**：拒绝，该条建议消失
- **Edit**：点击标题可编辑内容

### 4.4 手动添加 Action

点击 "+ Add Action" 弹出底部弹窗：

```
┌────────────────────────────────────────┐
│  Add Action                         ✕  │
├────────────────────────────────────────┤
│  What needs to be done?                │
│  ┌──────────────────────────────────┐  │
│  │ [输入框]                          │  │
│  └──────────────────────────────────┘  │
│                                        │
│  Due Date (Optional)                   │
│  [📅 Select date        ]              │
│                                        │
│  Related Contacts                      │
│  [👤 Kevin ✕] [👤 Alice ✕] [+ Add]    │
│                                        │
│  [Cancel]              [Add Action]    │
└────────────────────────────────────────┘
```

**交互细节**：
- 底部弹窗（Bottom Sheet）形式
- 输入框自动获取焦点
- Due Date 点击弹出日期选择器
- Related Contacts 显示当前会议关联的联系人，可增减

### 4.5 Action 操作菜单

长按或点击 Action 右侧 ⋮ 按钮，显示操作菜单：

| 操作 | 说明 |
|------|------|
| Edit | 编辑 Action 标题 |
| Set Due Date | 设置/修改截止日期 |
| Change Contacts | 修改关联联系人 |
| Delete | 删除该 Action |

---

## 5. F3: Contact Activity 上下文增强

### 5.1 功能概述

将 Contact 详情页的 Activity Tab 从"只有标题"升级为"有上下文的卡片"。

### 5.2 当前 vs 改进对比

#### Before（当前）

```
┌────────────────────────────────────────┐
│  Jan 15, 2026                          │
│  📝 Meeting summary           13:43    │  ← 只有标题
├────────────────────────────────────────┤
│  Jan 14, 2026                          │
│  👤 Became My Contact   Yesterday 16:01│
│     Meeting                            │
└────────────────────────────────────────┘
```

**问题**：
- 只有标题，不知道会议聊了什么
- 没有关联的 Actions
- 缺乏可操作性

#### After（改进后）

```
┌────────────────────────────────────────┐
│  Jan 15, 2026                          │
│  ┌──────────────────────────────────┐  │
│  │ 📝 Product Design Sync   13:43   │  │
│  │ ─────────────────────────────────│  │
│  │ Discussed RWA compliance and     │  │
│  │ upcoming demo schedule for Q1... │  │
│  │                                  │  │
│  │ 🔴 2 Actions                     │  │
│  │ • Follow up on compliance docs   │  │
│  │ • Schedule demo for next week    │  │
│  │                                  │  │
│  │                   [View Details >]│  │
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  Jan 14, 2026                          │
│  ┌──────────────────────────────────┐  │
│  │ 👤 First Contact        16:01    │  │
│  │ ─────────────────────────────────│  │
│  │ Source: Exchange at CES          │  │
│  │ 📍 Las Vegas Convention Center   │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 5.3 Activity 卡片类型

#### 5.3.1 Meeting 卡片

```
┌────────────────────────────────────────┐
│ 📝 {Meeting Title}           {Time}    │
│ ─────────────────────────────────────  │
│ {2-3 行 Summary 摘要，超出省略...}      │
│                                        │
│ 🔴 {N} Actions                         │  ← 仅当有 pending 时显示
│ • {Action 1}                           │
│ • {Action 2}                           │
│                                        │
│                       [View Details >] │
└────────────────────────────────────────┘
```

**设计要点**：
- 标题：会议名称 + 时间（右对齐）
- 摘要：2-3行，超出显示省略号
- Actions 区域：红点 + 数量 + 前两条预览
- 底部右下角：View Details 链接

#### 5.3.2 First Contact 卡片

```
┌────────────────────────────────────────┐
│ 👤 First Contact              {Time}   │
│ ─────────────────────────────────────  │
│ Source: {Exchange/Scan/NFC/Manual}     │
│ 📍 {Location}                          │
└────────────────────────────────────────┘
```

#### 5.3.3 Agent Call 卡片

```
┌────────────────────────────────────────┐
│ 📞 Agent Call                 {Time}   │
│ ─────────────────────────────────────  │
│ {通话摘要或留言内容}                   │
│                                        │
│ 🔴 {N} Actions                         │
│ • {Action 标题}                        │
│                                        │
│                       [View Details >] │
└────────────────────────────────────────┘
```

### 5.4 交互规范

| 操作 | 行为 |
|------|------|
| 点击卡片任意位置 | 跳转到对应详情页（Meeting/Call） |
| 点击 Action 项 | 跳转详情页，自动滚动到 Actions 区域 |
| 长按卡片 | 显示快捷菜单（分享、删除） |

---

## 6. F4: 首页 Profile 精简

### 6.1 功能概述

减少 Profile 区域占用的首屏空间，让 Action Hub 和会议列表更快进入视野。

### 6.2 布局对比

#### Before（当前）- 高度约 180px

```
┌────────────────────────────────────────┐
│                                        │
│  ┌─────┐  Ethan Carter Ethn            │
│  │     │  Product Designer             │
│  │ 头像 │  evelyntpp.reed@bizcard.com...│
│  │     │  [UI Design] [UX Research]    │
│  └─────┘  [Prototyping]                │
│                                        │
│  [✏ Edit]   [✨ Agent]   [👁 Preview]  │
│                                        │
└────────────────────────────────────────┘
```

#### After（精简版）- 高度约 64px

```
┌────────────────────────────────────────┐
│  ┌───┐                                 │
│  │头像│  Ethan Carter · Product Designer│
│  └───┘                        [📤 Share]│
└────────────────────────────────────────┘
```

### 6.3 按钮位置规划

| 按钮 | 当前位置 | Phase 1 位置 | 理由 |
|------|----------|--------------|------|
| **Share** | 首页 Profile | **首页 Profile（保留）** | 高频：分享名片是核心场景 |
| **Edit Profile** | 首页 Profile | **Me Tab** | 低频：编辑个人资料不常用 |
| **Agent** | 首页 Profile | **Me Tab** | 低频：配置 AI 助理不常用 |

### 6.4 设计决策

| 元素 | 处理方式 | 理由 |
|------|----------|------|
| 头像 | 缩小保留（48px → 40px） | 品牌识别 |
| 姓名 | 保留 | 核心信息 |
| 职位 | 保留（与姓名同行） | 核心信息 |
| Email | 移除 | 低频使用，可在 Me Tab 查看 |
| 标签 | 移除 | 低频使用，可在 Me Tab 查看 |
| Edit | **移到 Me Tab** | 低频操作 |
| Agent | **移到 Me Tab** | 低频操作 |
| Share | 精简保留 | 常用功能 |

### 6.5 Me Tab 页面布局

Edit Profile 和 Agent 按钮移至 Me Tab 页面：

```
┌────────────────────────────────────────┐
│                      Me                │
├────────────────────────────────────────┤
│  ┌──────────────────────────────────┐  │
│  │  ┌────────┐                      │  │
│  │  │        │   Ethan Carter       │  │
│  │  │  头像   │   Product Designer   │  │
│  │  │        │   email@bizcard.com  │  │
│  │  └────────┘                      │  │
│  │  [UI Design] [UX Research] ...   │  │
│  │                                  │  │
│  │  [✏️ Edit Profile]  [📤 Share]   │  │  ← Edit 在这里
│  └──────────────────────────────────┘  │
├────────────────────────────────────────┤
│  MY SETTINGS                           │
│  ┌──────────────────────────────────┐  │
│  │  🤖 AI Agent Settings         >  │  │  ← Agent 在这里
│  ├──────────────────────────────────┤  │
│  │  📱 Hardware Settings         >  │  │
│  ├──────────────────────────────────┤  │
│  │  🔔 Notifications             >  │  │
│  ├──────────────────────────────────┤  │
│  │  ⚙️ General Settings          >  │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 6.6 点击交互

**首页 Profile：**
- 点击 "📤 Share" → 打开名片分享面板
- 点击头像 → 跳转到 Me Tab

**Me Tab：**
- 点击 "✏️ Edit Profile" → 打开 Profile 编辑页面
- 点击 "🤖 AI Agent Settings" → 打开 Agent 配置页面

---

## 7. F5: 会议卡片 Action 预览

### 7.1 功能概述

在首页的 Today's Meeting 列表中，为每个会议卡片增加 Actions 状态预览。

### 7.2 设计规范

```
┌────────────────────────────────────────┐
│  Today's Meeting                       │
│  ┌──────────────────────────────────┐  │
│  │ 💬 Product Design Sync           │  │
│  │    with Kevin, Alice    11:30 AM │  │
│  │    🔴 2 pending                  │  │  ← 有待办
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 🎙 Sales Review Call             │  │
│  │    with Bob            10:00 AM  │  │
│  │    ✅ All done                   │  │  ← 全部完成
│  └──────────────────────────────────┘  │
│  ┌──────────────────────────────────┐  │
│  │ 📞 Agent Call - Inquiry          │  │
│  │    Unknown caller       9:30 AM  │  │
│  │                                  │  │  ← 无 Action
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

### 7.3 状态展示规则

| 状态 | 显示 | 样式 |
|------|------|------|
| 有 pending actions | 🔴 N pending | 红色小点 + 红色文字 |
| 所有 actions 完成 | ✅ All done | 绿色勾选 + 灰色文字 |
| 无 actions | 不显示 | — |

---

## 8. F6: 录音关联优化

### 8.1 功能概述

录音结束后，智能推荐可能关联的联系人，减少用户手动选择的负担。

### 8.2 交互流程

```
录音结束
    ↓
显示"正在分析..." (1-2秒)
    ↓
弹出关联面板（Bottom Sheet）
```

### 8.3 关联面板设计

```
┌────────────────────────────────────────┐
│  ─────  (拖动条)                       │
│  Link this meeting to...               │
├────────────────────────────────────────┤
│  ✨ Suggested                          │
│  ┌──────────────────────────────────┐  │
│  │ ☑ Kevin Chen                     │  │
│  │    Mentioned in conversation     │  │
│  ├──────────────────────────────────┤  │
│  │ ☑ Alice Wang                     │  │
│  │    Mentioned in conversation     │  │
│  └──────────────────────────────────┘  │
│                                        │
│  Recent Contacts                       │
│  ┌──────────────────────────────────┐  │
│  │ ☐ Bob Smith                      │  │
│  │ ☐ Charlie Brown                  │  │
│  │ ☐ David Lee                      │  │
│  └──────────────────────────────────┘  │
│                                        │
│  [🔍 Search more contacts]             │
│                                        │
│  [Skip]                   [Confirm]    │
└────────────────────────────────────────┘
```

**设计要点**：
- AI 推荐的联系人默认勾选，带 ✨ 标记
- 显示推荐理由（如 "Mentioned in conversation"）
- 下方显示最近联系人供选择
- 可搜索更多联系人
- Skip 跳过不关联，Confirm 确认关联

---

## 9. 验收标准

### 9.1 功能验收清单

#### F1: Action Hub
- [ ] 首页能看到 Action Hub 模块
- [ ] 折叠态显示待办数量和第一条预览
- [ ] 点击可展开显示完整列表
- [ ] 可以勾选完成 Action
- [ ] 完成后有动效和 Toast 反馈
- [ ] 空状态显示正确

#### F2: Meeting Actions
- [ ] Meeting 详情页顶部显示 Actions 区域
- [ ] AI 能自动提取 Actions（带确认/拒绝操作）
- [ ] 可以手动添加 Action
- [ ] 可以编辑/删除 Action
- [ ] 可以设置 Due Date

#### F3: Contact Activity
- [ ] Activity 卡片显示 2-3 行摘要
- [ ] 卡片显示 Actions 数量和预览
- [ ] 点击卡片可跳转详情

#### F4: Profile 精简
- [ ] Profile 区域高度减少 50%+
- [ ] 保留姓名、职位、头像、Preview
- [ ] Preview 功能正常

#### F5: 会议卡片 Action 预览
- [ ] 会议卡片显示 Action 状态
- [ ] pending/done/无 三种状态样式正确

#### F6: 录音关联
- [ ] 录音结束后弹出关联面板
- [ ] AI 推荐联系人并预勾选
- [ ] 可选择更多联系人
- [ ] Skip 和 Confirm 功能正常

### 9.2 体验验收

- [ ] 用户进入首页后能明确知道"要做什么"
- [ ] Action 完成操作流畅，反馈及时
- [ ] 页面跳转流畅，符合 iOS/Android 规范

---

## 10. 里程碑计划

| 周 | 里程碑 | 产出 |
|----|--------|------|
| W1 | 设计完成 | UI 视觉稿、交互原型 |
| W2-3 | 开发：Meeting Actions + Contact Activity | 可测试版本 |
| W4 | 开发：Action Hub | 可测试版本 |
| W5 | 开发：Profile 精简 + 会议卡片 | 可测试版本 |
| W6 | 集成测试 + Bug 修复 | Phase 1 发布 |

---

## 11. 风险与对策

| 风险 | 概率 | 影响 | 对策 |
|------|------|------|------|
| AI 提取准确率不够 | 中 | 中 | 提供手动编辑入口，支持用户纠错 |
| Action Hub 占用空间影响体验 | 低 | 中 | 默认折叠，空状态可隐藏 |
| 用户不理解新功能 | 中 | 低 | 首次使用时增加引导提示 |

---

## 附录：Demo 原型

可交互 Demo 位于：`phase1/demo.html`

打开方式：直接在浏览器中打开 HTML 文件

---

*文档版本：v1.1*  
*创建日期：2026-01-19*  
*更新日期：2026-01-19*
